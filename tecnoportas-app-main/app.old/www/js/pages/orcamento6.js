"use strict";var orcamento6={enAdc:null,divEntradas:null,divPosicoes:null,dados:null,posicao:null,tmpDados:null,btnAvancar:null,btnVoltar:null,inicializar:function(a){app.securityCheck(),this.btnVoltar=app.E("btnlVoltar"),this.tmpDados=a,this.divEntradas=app.E("divEntradas"),this.divPosicoes=app.E("divPosicoes"),this.btnAvancar=app.E("btnAvancar"),this.getEntradas(),this.btnAvancar.addEventListener("click",this.btnAvancarClick),this.btnVoltar.addEventListener("click",app.onBackButtonClick),orcamento6.divPosicoes.style.display="none"},getEntradas:function(){new Api("atributos?tipo=ent").send(function(a){if(console.log(a),orcamento6.divEntradas.innerHTML="",orcamento6._criandoEntradaVazia(orcamento6.divEntradas),a.error)app.Erro(a);else if(0<a.length)for(var o=0;o<a.length;o++)orcamento6._criandoEntradas(a[o],orcamento6.divEntradas,!0)})},_criandoEntradas:function(o,a,n){var e,t,r=app.CE("img",{src:"./img/nenhum.png"}),i=app.CE("label",{class:"radio-azul diferenciado"}),s=app.CE("span"),c=app.CE("i"),d=app.CE("input",{value:o.id,type:"radio",class:"form-control cb-portas",name:n?"modelos":"posicoes",id:o.id});e=r,t=o.imagem,app.getImgFromApi(t,function(a,o){e.src=a}),s.innerHTML=o.nome,1==n?i.addEventListener("click",function(a){a.stopPropagation(),a.preventDefault(),$("input[name=modelos]").removeAttr("checked"),d.setAttribute("checked",""),orcamento6.dados=o.id,orcamento6.posicao=null,orcamento6.divPosicoes.innerHTML="",orcamento6.divPosicoes.style.display="none",new Api("atributos",{atributo_id:o.id}).send(function(a){if(console.log(a),!a.error)if(0<a.length){orcamento6.divPosicoes.style.display="flex";for(var o=0;o<a.length;o++)$(".botoes-form").removeClass("-is-active"),orcamento6._criandoEntradas(a[o],orcamento6.divPosicoes,!1)}else $(".botoes-form").addClass("-is-active")})}):i.addEventListener("click",function(a){a.stopPropagation(),a.preventDefault(),$("input[name=posicoes]").removeAttr("checked"),d.setAttribute("checked",""),orcamento6.posicao=o.id,$(".botoes-form").addClass("-is-active")}),orcamento6._inserirEntrada(r,i,s,d,c,a)},_criandoEntradaVazia:function(a){var o=app.CE("label",{class:"radio-azul diferenciado"}),n=app.CE("img",{src:"./img/nenhum.png"}),e=app.CE("span"),t=app.CE("i"),r=app.CE("input",{value:"",type:"radio",class:"form-control cb-portas",name:"modelos",id:"nenhum_aut"});e.innerHTML="Nenhum",o.addEventListener("click",function(){$("input[name=modelos]").removeAttr("checked"),orcamento6.divPosicoes.innerHTML="",orcamento6.divPosicoes.style.display="none",$(".botoes-form").addClass("-is-active"),orcamento6.dados=null,orcamento6.posicao=null}),orcamento6._inserirEntrada(n,o,e,r,t,a)},_inserirEntrada:function(a,o,n,e,t,r){o.appendChild(a),o.appendChild(n),o.appendChild(e),o.appendChild(t),r.appendChild(o)},btnAvancarClick:function(a){a.preventDefault(),0<orcamento6.dados?new Api("portoes/entradas",{ent_id:orcamento6.dados,pos_id:orcamento6.posicao,chapa_id:orcamento6.tmpDados.modeloID,perfil_id:orcamento6.tmpDados.perfilID,material_id:orcamento6.tmpDados.materialID}).send(function(a){console.log(a),a.error?app.Erro(a):0<a.length?(orcamento6.tmpDados.entradaDds=a[0],orcamento6.tmpDados.entradas={entrada_id:orcamento6.dados,entrada_posicao:orcamento6.posicao},new VarGlobal("informacoesGlobaisDeOrcamento").salvarLocal(JSON.stringify(orcamento6.tmpDados)),app.abrirPag("orcamento7",[orcamento6.tmpDados])):(orcamento6.tmpDados.entradaDds=0,(a=new Mensagem("Nenhuma Entrada Corresponde a Esses Atributos!\nTente usar outros atributos para continuar seu orÃ§amento.")).setTitulo("Nenhum Entrada Encontrada!"),a.mostrar(function(){orcamento6.getEntradas()}),orcamento6.divPosicoes.innerHTML="",orcamento6.divPosicoes.style.display="none")}):(orcamento6.tmpDados.entradas={entrada_id:orcamento6.dados,entrada_posicao:orcamento6.posicao},new VarGlobal("informacoesGlobaisDeOrcamento").salvarLocal(JSON.stringify(orcamento6.tmpDados)),app.abrirPag("orcamento7",[orcamento6.tmpDados]))}};