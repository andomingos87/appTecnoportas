"use strict";var detalhesProduto={prod_nome:null,prod_id:null,prod_preco:null,prod_desc:null,prod_qtd:null,btnVoltar:null,addCarrinho:null,prod:null,inicializar:function(o){app.securityCheck(),this.prod=o,this.btnVoltar=app.E("btnVoltar"),this.addCarrinho=app.E("addCarrinho"),this.prod_nome=app.E("prod_nome"),this.prod_id=app.E("prod_id"),this.prod_preco=app.E("prod_preco"),this.prod_desc=app.E("prod_desc"),this.prod_qtd=app.E("prod_qtd"),this.prod_img=app.E("prod_img"),this.btnVoltar.addEventListener("click",app.onBackButtonClick),this.addCarrinho.addEventListener("click",function(){detalhesProduto.addCarrinhoClick(detalhesProduto.prod)}),this.setProdDados(o)},setProdDados:function(o){detalhesProduto.prod_id.innerHTML=o.id,detalhesProduto.prod_nome.innerHTML=o.nome,detalhesProduto.prod_preco.innerHTML=o.valor,detalhesProduto.prod_desc.innerHTML=o.descricao,null!=o.imagem&&(detalhesProduto.prod_img.src="./img/loader.gif",app.getImgFromApi(o.imagem,function(o){detalhesProduto.prod_img.src=o;var d=ImageViewer();$(detalhesProduto.prod_img).on("tap click",function(){d.show(this.src,this.src)})}))},addCarrinhoClick:function(o){var d,r,a=o.id,i=o.nome,e=o.valor,n=o.unidadeDeMedida,o=o.imagem,t={},p=$(detalhesProduto.prod_qtd).val();0<p?null==(r=(d=new VarGlobal("carrinho")).obterLocal())?(r=new Array,t.id=a,t.nome=i,t.valor_unitario=e,t.quantidade=p,t.unidade_medida=n,t.img=o,r.push(t),d.salvarLocal(JSON.stringify(r)),console.log(r),new Mensagem(i+" Adicionado ao carrinho",!0),app.abrirPag("produtos")):-1==r.indexOf('"id":"'+a+'"')?(r=JSON.parse(d.obterLocal()),t.id=a,t.nome=i,t.valor_unitario=e,t.quantidade=p,t.unidade_medida=n,t.img=o,r.push(t),d.salvarLocal(JSON.stringify(r)),console.log(r),new Mensagem(i+" Adicionado ao carrinho",!0),app.abrirPag("produtos")):new Mensagem("Produto jÃ¡ adicionado ao carrinho",!0):new Mensagem("Por favor informe a quantidade desejada de produtos",!0)}};