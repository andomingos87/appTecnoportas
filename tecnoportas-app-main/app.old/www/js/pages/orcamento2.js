"use strict";var orcamento2={portas:null,calc:null,informacoesDoFormulario:null,nTmpLocal:null,todasAsInstalacoes:null,tamanhoDaRespostaInstalacoes:null,tipoDeInstalacao:null,btVolta:null,inicializar:function(a){app.securityCheck();var o=new VarGlobal("informacoesGlobaisDeOrcamento").obterLocal();this.nTmpLocal=JSON.parse(o),console.log(this.nTmpLocal),this.btVolta=app.E("btnVoltar"),orcamento2._pegandoInstalacoes(),this.adicionaEventoBotoes(),this.portas=app.E("portas"),this.calc=app.E("calc"),this.portas.addEventListener("click",this.portasClick),this.calc.addEventListener("keyup",this.calcClick),this.btVolta.addEventListener("click",app.onBackButtonClick),this.addMascara()},adicionaEventoBotoes:function(){app.E("#btnAvancar").addEventListener("click",function(){orcamento2.pegaInformacoesDoFormulario(),orcamento2.informacoesDoFormulario=Object.assign(orcamento2.informacoesDoFormulario,orcamento2.nTmpLocal),orcamento2.configuraParaVarGlobal(),app.abrirPag("orcamento3",[orcamento2.informacoesDoFormulario],!1)})},_pegandoInstalacoes:function(){for(var a=document.getElementById("lista-opcao");a.firstChild;)a.removeChild(a.firstChild);orcamento2.todasAsInstalacoes=new Array,new Api("atributos?tipo=tpi",null,!0,!0).send(function(a){function o(){var a=new Mensagem("Não foi possível obter os tipos de instalação para criar um novo orçamento!");a.setTitulo("Atenção!"),a.mostrar(function(){app.abrirPag("inicio",[],!1)})}if(a.error)o();else if(0<a.length)for(var t=0;t<a.length;t++)console.log(a[t]),orcamento2._criandoInstalacoes(a[t]);else o()})},_criandoInstalacoes:function(a){var o=app.CE("div",{class:"opcao-tipo"}),t=app.CE("label",{class:"radio-azul"}),n=app.CE("span",{}),a=(n.innerHTML=a.nome,app.CE("input",{id:a.nome,type:"radio",class:"form-control cb-portas vlMetros",value:a.id,name:"instalacao"})),e=app.CE("i",{});orcamento2._inserirInstalacoes("#lista-opcao",o,t,n,a,e)},_inserirInstalacoes:function(a,o,t,n,e,i){t.appendChild(n),t.appendChild(e),t.appendChild(i),o.appendChild(t),app.E(a).appendChild(o),o.addEventListener("click",function(){orcamento2.tpiClick(e.value)})},pegaInformacoesDoFormulario:function(){var a=app.getRadioChecked("formPortas","portas").value,o=app.C(app.E("#tbAltura").value,"+",app.N(app.E("tbLargura").value)<8.5?.6:.9);orcamento2.informacoesDoFormulario={quantidadeDePortas:a,altura:app.E("#tbAltura").value,largura:app.E("#tbLargura").value,fnAltura:o,tipoDeInstalacao:orcamento2.tipoDeInstalacao,porm2:app.C(o,"*",app.E("tbLargura").value,3)}},configuraParaVarGlobal:function(){new VarGlobal("informacoesGlobaisDeOrcamento").salvarLocal(JSON.stringify(orcamento2.informacoesDoFormulario))},calcClick:function(){var a=app.E("#tbAltura").value,o=app.E("#tbLargura").value;"0.000"!=a&&"0.000"!=o?(app.E("#instalacoes").classList.add("-is-active"),orcamento2.tipoDeInstalacao&&$(".botoes-form").addClass("-is-active")):(app.E("#instalacoes").classList.remove("-is-active"),$(".botoes-form").removeClass("-is-active"))},tpiClick:function(a){orcamento2.tipoDeInstalacao=a,$(".botoes-form").addClass("-is-active")},portasClick:function(){$("input:radio").change(function(){$(this).is(":checked")&&$(".calculos").addClass("-is-active")})},addMascara:function(){$(".vlMetros").mask("0000000000000000000000.000",{reverse:!0,maxlength:!1}),$(".vlMetros").on("keyup",function(a){var o=this.value;o.length<4?this.value="0."+o:"0"==o.substring(0,1)&&(this.value=o.substring(1))})}};