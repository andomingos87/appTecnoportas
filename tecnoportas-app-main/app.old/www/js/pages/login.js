"use strict";var login={formLogin:null,lnkEsqueciSenha:null,inicializar:function(){this.formLogin=app.E("formLogin"),this.lnkEsqueciSenha=app.E("lnkEsqueciSenha"),this.formLogin.addEventListener("submit",this.formLoginSubmit),this.lnkEsqueciSenha.addEventListener("click",this.lnkEsqueciSenhaClick)},formLoginSubmit:function(e){e.preventDefault();var i=this,e=i.username.value,a=i.senha.value;e.length<=0||a.length<=0?$(i.username.parentNode.parentNode).addClass("is-invalid"):(Loader.add(btSubmit),btSubmit.classList.add("branco"),new Api("login",{username:e,senha:a,nivel:0},!1).send(function(e){var n;e.error?(e.error.toLowerCase().indexOf("InvÃ¡lido!")?$(i.senha.parentNode.parentNode).addClass("is-invalid"):app.Erro(e),btSubmit.classList.remove("branco"),Loader.remove(btSubmit)):(1!=(e=e)[0].is_aprovado&&(n=!0),e[0].senha=a,app.setLogin(e,function(e,i,a){btSubmit.classList.remove("branco"),Loader.remove(btSubmit),(a||n)&&(app.checaLogin(),app.thisUser[0].is_aprovado=0),app.abrirPag("home")}))}))},lnkEsqueciSenhaClick:function(){app.abrirPag("recuperar_senha")}};