var meusClientes={aAdicionar:null,divClientes:null,inputSearch:null,inicializar:function(){app.securityCheck(),this.aAdicionar=app.E("aAdicionar"),this.divClientes=app.E("divClientes"),this.inputSearch=app.E("inputSearch"),this.aAdicionar.addEventListener("click",this.aAdicionarClick),this.getClientes(),this.busca()},getClientes:function(){var a=this;new Api("clientes?sid="+app.thisUser[0].pessoa_id).send(function(i){if(i.error)app.Erro(i);else if(0<i.length){app.limpaObj(a.divClientes,1);for(var e=0;e<i.length;e++)a.divClientes.appendChild(a.geraClientes(i[e]))}else{var n=app.CE("div",{classe:"col-12 text-center"});n.innerHTML="Você ainda não tem clientes!",a.divClientes.appendChild(n)}})},geraClientes:function(i){var e,n,a=app.CE("div",{class:"col-12 col-linha"}),l=app.CE("ul",{class:"ul-linha"}),t=app.CE("div",{class:"alinhar"}),p=app.CE("div",{class:"alinhar mg -tp-lg"}),s=app.CE("div",{class:"alinhar -tel"}),r=app.CE("button",{class:"btn"}),c=app.CE("button",{class:"btn btn-danger"}),d=app.CE("li",{class:"li-cliente"}),o=app.CE("li",{class:"li-tipo"}),C=app.CE("li",{class:"li-tel"}),u=app.CE("li",{class:"li-uf"}),h=app.CE("li",{class:"li-email"});return r.innerHTML="Editar",c.innerHTML="Excluir",d.innerHTML=i.nome+" "+i.sobrenome,C.innerHTML=i.ddd+" "+i.numero,u.innerHTML=i.uf,h.innerHTML=i.email,o.innerHTML="F"==i.tipo?"PESSOA FÍSICA":"PESSOA JURÍDICA",e=i,r.addEventListener("click",function(){app.abrirPag("editarCliente",[e])},!1),n=i.id,c.addEventListener("click",function(){var i=new Mensagem("Deseja excluir o cliente "+n);i.setTitulo("Excluir cliente!"),i.setTipo("confirma"),i.setBotoes(["Sim","Não"]),i.mostrar(function(i){1==i&&new Api("clientes/excluir",{id:n}).send(function(i){var e;i.error?(e=i.error,new Mensagem(e,!0)):1==i.deleta?new Mensagem("Cliente Excluído!").mostrar(function(){app.abrirPag("meusClientes")}):new Mensagem(i.error,!0)})})},!1),t.appendChild(d),t.appendChild(o),l.appendChild(t),s.appendChild(C),s.appendChild(u),l.appendChild(s),l.appendChild(h),p.appendChild(r),p.appendChild(c),l.appendChild(p),a.appendChild(l),a},aAdicionarClick:function(){"adicionarClientes"!=app.thisPage().id&&app.abrirPag("adicionarClientes"),header.btMenuToggleClick(!1)},busca:function(){$(inputSearch).on("keyup",function(){var i=$(this).val().toLowerCase();$(".ul-linha").filter(function(){$(this).toggle(-1<$(this).text().toLowerCase().indexOf(i))})})}};