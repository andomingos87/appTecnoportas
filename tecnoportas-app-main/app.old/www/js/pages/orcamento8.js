"use strict";var orcamento8={myInput:null,myForm:null,option:null,opcionais:{},quantidades:{},tmpDados:null,divOpcoes:null,btnAvancar:null,btnVoltar:null,inicializar:function(i){app.securityCheck(),this.tmpDados=i,console.log("dados:"),console.log(this.tmpDados),this.option=app.E("option"),this.divOpcoes=app.E("divOpcoes"),this.btnAvancar=app.E("btnAvancar"),this.btnVoltar=app.E("btnlVoltar"),this.myInput=app.E("myInput"),this.myForm=app.E("myForm"),this.getOpcionais(),this.busca(),this.btnAvancar.addEventListener("click",this.btnAvancarClick),this.btnVoltar.addEventListener("click",app.onBackButtonClick),$("#myInput").keydown(function(i){13==i.keyCode&&$("#myInput").blur()})},optionClick:function(){$(option).change(function(){$(this).is(":checked")?$(".quantidade").addClass("-is-active"):$(".quantidade").removeClass("-is-active")})},busca:function(){$(myInput).on("keyup",function(){var i=$(this).val().toLowerCase();$(".opcao").filter(function(){$(this).toggle(-1<$(this).text().toLowerCase().indexOf(i))})})},getOpcionais:function(){new Api("portoes/componentes",null,!0,!0).send(function(i){if(i.error)"net"==i.error&&app.Erro(i),orcamento8.divOpcoes.innerHTML="<h3>Sem opcionais</h3>";else if(0<i.length)for(var n=0;n<i.length;n++)orcamento8._criandoOpcionais(i[n],orcamento8.divOpcoes);else orcamento8.divOpcoes.innerHTML="<h3>Sem opcionais</h3>"})},_criandoOpcionais:function(i,n){console.log(i);var a,o,t,e,p,c=app.CE("div",{class:"opcao"}),s=app.CE("label",{class:"radio-azul diferenciado",for:"option"+i.id}),d=app.CE("img",{src:"./img/loader.gif"}),r=app.CE("div",{class:"texto-produto"}),l=app.CE("span"),u=app.CE("div",{class:"quantidade"}),m=app.CE("label",{class:"lblMedida",for:"inputQtd"+i.id}),h=app.CE("h5",{class:"cad-title -upper"}),v=app.CE("input",{type:"number",class:"input-default cad-title -grey",id:"inputQtd"+i.id,value:1,min:1}),C=app.CE("input",{type:"checkbox",option:"",class:"form-control cb-portas",name:"modelos"}),f=app.CE("i");l.innerHTML=i.nome,h.innerHTML="Quantidade: ",m.innerHTML=i.medida,a=d,o=i.imagem,app.getImgFromApi(o,function(i,n){a.src=i;var o=ImageViewer();$(a).on("tap click",function(){o.show(this.src,this.src)})}),t=u,e=C,p=i,f.addEventListener("click",function(){console.log("clicou"),$(e).is(":checked")?($(t).removeClass("-is-active"),$(e).removeAttr("checked"),delete orcamento8.opcionais[p.id]):($(t).addClass("-is-active"),$(e).attr("checked","checked"),p.thisInputId="inputQtd"+p.id,orcamento8.opcionais[p.id]=p)}),orcamento8._inserirOpcionais(c,s,d,r,l,u,m,h,v,C,f,n)},_inserirOpcionais:function(i,n,o,a,t,e,p,c,s,d,r,l){e.appendChild(c),e.appendChild(s),e.appendChild(p),a.appendChild(t),a.appendChild(e),n.appendChild(o),n.appendChild(a),n.appendChild(d),n.appendChild(r),i.appendChild(n),l.appendChild(i)},btnAvancarClick:function(i){i.preventDefault();var n,o=orcamento8.opcionais;for(n in o)orcamento8.opcionais[n].quantidade=app.E("inputQtd"+o[n].id).value;console.log(orcamento8.opcionais),orcamento8.tmpDados.opcionais=orcamento8.opcionais,new VarGlobal("informacoesGlobaisDeOrcamento").salvarLocal(JSON.stringify(orcamento8.tmpDados)),app.abrirPag("orcamento9",[orcamento8.tmpDados])}};